<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>01 - Frame System · FrameTransformations.jl</title><meta name="title" content="01 - Frame System · FrameTransformations.jl"/><meta property="og:title" content="01 - Frame System · FrameTransformations.jl"/><meta property="twitter:title" content="01 - Frame System · FrameTransformations.jl"/><meta name="description" content="Documentation for FrameTransformations.jl."/><meta property="og:description" content="Documentation for FrameTransformations.jl."/><meta property="twitter:description" content="Documentation for FrameTransformations.jl."/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../../"><img src="../../../assets/logo.png" alt="FrameTransformations.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">FrameTransformations.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Tutorials</span><ul><li class="is-active"><a class="tocitem" href>01 - Frame System</a><ul class="internal"><li><a class="tocitem" href="#Basic-Constructors"><span>Basic Constructors</span></a></li><li><a class="tocitem" href="#Graph-Inspection"><span>Graph Inspection</span></a></li><li><a class="tocitem" href="#Basic-Usage"><span>Basic Usage</span></a></li><li><a class="tocitem" href="#Ephemerides-Support"><span>Ephemerides Support</span></a></li></ul></li><li><a class="tocitem" href="../t01_rotation/">02 - Rotation</a></li><li><a class="tocitem" href="../t02_axes/">03 - Axes</a></li><li><a class="tocitem" href="../t03_points/">04 - Points</a></li></ul></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../../Examples/gen/e00_ode/">01 - Custom Orbit</a></li></ul></li><li><span class="tocitem">API</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Public API</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../API/axes_api/">Axes</a></li><li><a class="tocitem" href="../../../API/point_api/">Points</a></li><li><a class="tocitem" href="../../../API/dir_api/">Directions</a></li><li><a class="tocitem" href="../../../API/frames_api/">Frames</a></li></ul></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>01 - Frame System</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>01 - Frame System</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaSpaceMissionDesign/FrameTransformations.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaSpaceMissionDesign/FrameTransformations.jl/blob/main/docs/src/Tutorials/t00_frames.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="tutorial_00_frames"><a class="docs-heading-anchor" href="#tutorial_00_frames">Frame System Overview</a><a id="tutorial_00_frames-1"></a><a class="docs-heading-anchor-permalink" href="#tutorial_00_frames" title="Permalink"></a></h1><p><em>This example was generated on 2024-11-18T22:29:36.922.</em></p><p>The core object of <code>FrameTransformations</code> is the <a href="../../../API/frames_api/#FrameTransformations.FrameSystem"><code>FrameSystem</code></a>, which provides the capability to compute relative position, orientation and their time derivatives up to order 3 (jerk), between standard and user-defined point and axes. It works by creating two separate graphs that silently store and manage all the parent-child relationships between the user-registered axes and points, in the form of <code>FramePointNode</code> and <code>FrameAxesNode</code>.</p><p>These two objects define two precise entities:</p><ul><li><strong>Axes</strong>: defines an orientation in space. These are related each other by means of a <a href="../../../API/frames_api/#FrameTransformations.Rotation"><code>Rotation</code></a> transformation which relate one axes to a parent axes in a certain time interval.</li><li><strong>Points</strong>: defines a location in space. These are related each other by means of a [<code>Translation</code>]@(ref) transformation which relate one point to a parent point in a particular axes in a certain time interval.</li></ul><p>Additionally, it is possible to create <code>Direction</code>s, as vector valued functions that could be used to define custom frames.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>A single <a href="../../../API/frames_api/#FrameTransformations.FrameSystem"><code>FrameSystem</code></a> instance simultaneously handles both the axes and point graphs, regardless of what the user registers in it. For instance, if no points are added, the point graph will remain empty. The same applies for directions.</p></div></div><p>Additionally, any node can have several childs, each with different transformations with respect to the parent node. However, they shall be <strong>registered</strong> within the <a href="../../../API/frames_api/#FrameTransformations.FrameSystem"><code>FrameSystem</code></a> before being used in a transformation or as parents of other nodes.</p><h2 id="Basic-Constructors"><a class="docs-heading-anchor" href="#Basic-Constructors">Basic Constructors</a><a id="Basic-Constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Constructors" title="Permalink"></a></h2><p>The creation of a generic <a href="../../../API/frames_api/#FrameTransformations.FrameSystem"><code>FrameSystem</code></a> requires the definition of the maximum desired transformation order and of its <code>DataType</code>, which in most applications is a <code>Float64</code>. The transformation order is always one greater than the maximum desired time derivative. For instance, if the user only desires to compute position and velocity components (i.e., order 1 time-derivative), the transformation order to be used is 2. Thus, the maximum allowed transformation order is 4.</p><p>In this example, we highlight the most basic way to initialise a <a href="../../../API/frames_api/#FrameTransformations.FrameSystem"><code>FrameSystem</code></a>:</p><pre><code class="language-julia hljs">using FrameTransformations
using Tempo

F = FrameSystem{2,Float64}()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">FrameSystem{2, Float64, Tempo.BarycentricDynamicalTime} with 0 points, 0 axes and 0 directions
</code></pre><p>From this example, you can see that within the frame system there are both point and axes graphs. However, at the moment they are completely empty since the graph was just created.</p><p>Each <a href="../../../API/frames_api/#FrameTransformations.FrameSystem"><code>FrameSystem</code></a> object is assigned a reference timescale that is used to perform computations with epochs and to parse ephemeris files. The default timescale is the <code>BarycentricDynamicalTime</code>, however, the user is free to select the most suited timescale for his applications. In this example, we set the <code>InternationalAtomicTime</code> as the reference scale.</p><pre><code class="language-julia hljs">F = FrameSystem{2,Float64,InternationalAtomicTime}()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">FrameSystem{2, Float64, Tempo.InternationalAtomicTime} with 0 points, 0 axes and 0 directions
</code></pre><h2 id="Graph-Inspection"><a class="docs-heading-anchor" href="#Graph-Inspection">Graph Inspection</a><a id="Graph-Inspection-1"></a><a class="docs-heading-anchor-permalink" href="#Graph-Inspection" title="Permalink"></a></h2><p>Once a <a href="../../../API/frames_api/#FrameTransformations.FrameSystem"><code>FrameSystem</code></a> is constructed (and populated) there are many routines devoted to inspect its content. As already said, there are three main <em>objects</em> that are contained in the <code>FrameSystem</code>: <strong>points</strong>, <strong>axes</strong> and <strong>directions</strong>. For each of them series of utility functions are made available in order to check for the presence of a registered point:</p><pre><code class="language-julia hljs">has_point(F, 1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><p>a registered axes:</p><pre><code class="language-julia hljs">has_axes(F, 1)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><p>or a registered direction:</p><pre><code class="language-julia hljs">has_direction(F, :Root)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">false</code></pre><p>Additionally, the possibility to get a dictionary containing all name-id relationships is made available for axes, via the <a href="../../../API/frames_api/#FrameTransformations.axes_alias"><code>axes_alias</code></a> method:</p><pre><code class="language-julia hljs">axes_alias(F)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dict{Symbol, Int64}()</code></pre><p>and points, via the <a href="../../../API/frames_api/#FrameTransformations.points_alias"><code>points_alias</code></a> method:</p><pre><code class="language-julia hljs">points_alias(F)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Dict{Symbol, Int64}()</code></pre><p>Finally, the <code>FrameSystem</code> order and timescale might be retrieved via the associated methods:</p><pre><code class="language-julia hljs">order(F)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">2</code></pre><pre><code class="language-julia hljs">FrameTransformations.timescale(F)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Tempo.InternationalAtomicTime</code></pre><p>Refer to the <a href="../../../API/frames_api/#frames_api">API</a> for additional details.</p><h2 id="Basic-Usage"><a class="docs-heading-anchor" href="#Basic-Usage">Basic Usage</a><a id="Basic-Usage-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-Usage" title="Permalink"></a></h2><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Work in progress</p></div></div><h2 id="Ephemerides-Support"><a class="docs-heading-anchor" href="#Ephemerides-Support">Ephemerides Support</a><a id="Ephemerides-Support-1"></a><a class="docs-heading-anchor-permalink" href="#Ephemerides-Support" title="Permalink"></a></h2><p>In certain scenarios, the transformations require usage of binary ephemeris kernels, e.g., the JPL&#39;s DE440 files. To support this applications, this package has an interface relying on <a href="https://github.com/JuliaSpaceMissionDesign/JSMDInterfaces.jl">JSMDInterfaces.jl</a> <code>AbstractEphemerisProvider</code>s. Currently, this package is shipped with extension for the following two ephemeris readers:</p><ul><li><a href="https://github.com/JuliaSpaceMissionDesign/Ephemerides.jl">Ephemerides.jl</a></li><li><a href="https://github.com/JuliaSpaceMissionDesign/CalcephEphemeris.jl">CalcephEphemeris.jl</a></li></ul><p>Once the desired ephemeris provider is created, it can be used to register points or axes. In this example we begin loading an old DE421 kernels to pass to the ephemeris reader.</p><pre><code class="language-julia hljs">using Ephemerides, Downloads

url = &quot;https://naif.jpl.nasa.gov/pub/naif/generic_kernels/spk/planets/a_old_versions/de421.bsp&quot;;
E = EphemerisProvider(Downloads.download(url));

F = FrameSystem{2,Float64}()</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">FrameSystem{2, Float64, Tempo.BarycentricDynamicalTime} with 0 points, 0 axes and 0 directions
</code></pre><p>Before registering any node, a set of root axes and a root node shall be anyway registered.</p><pre><code class="language-julia hljs">add_axes_icrf!(F)
add_point!(F, :SSB, 0, 1)</code></pre><p>Points from the <code>EphemerisProvider</code> can be now registered.</p><pre><code class="language-julia hljs">add_point_ephemeris!(F, E, :Sun, 10)
add_point_ephemeris!(F, E, :EMB, 3)</code></pre><p>Here the parent point will be inferred from the ephemeris.</p><pre><code class="language-julia hljs">F</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">FrameSystem{2, Float64, Tempo.BarycentricDynamicalTime} with 3 points, 1 axes and 0 directions

<span class="sgr1">Points: </span>

<span class="sgr1">Axes: </span>
</code></pre><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../../">« Home</a><a class="docs-footer-nextpage" href="../t01_rotation/">02 - Rotation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Monday 18 November 2024 22:30">Monday 18 November 2024</span>. Using Julia version 1.9.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
